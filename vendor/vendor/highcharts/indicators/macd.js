/*
 Highstock JS v8.2.2 (2020-10-22)

 Indicator series type for Highstock

 (c) 2010-2019 Sebastian Bochan

 License: www.highcharts.com/license
*/
(function(b){"object"===typeof module&&module.exports?(b["default"]=b,module.exports=b):"function"===typeof define&&define.amd?define("highcharts/indicators/macd",["highcharts","highcharts/modules/stock"],function(c){b(c);b.Highcharts=c;return b}):b("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(b){function c(b,e,c,m){b.hasOwnProperty(e)||(b[e]=m.apply(null,c))}b=b?b._modules:{};c(b,"Stock/Indicators/MACDIndicator.js",[b["Core/Series/Series.js"],b["Core/Globals.js"],b["Core/Utilities.js"]],
function(b,e,c){var m=c.correctFloat,k=c.defined,p=c.merge,l=e.seriesTypes.sma,n=e.seriesTypes.ema;b.seriesType("macd","sma",{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,crisp:!1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},
dataGrouping:{approximation:"averages"},minPointLength:0},{nameComponents:["longPeriod","shortPeriod","signalPeriod"],requiredIndicators:["ema"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:e.noop,getColumnMetrics:e.seriesTypes.column.prototype.getColumnMetrics,crispCol:e.seriesTypes.column.prototype.crispCol,init:function(){l.prototype.init.apply(this,arguments);this.options&&(this.options=p({signalLine:{styles:{lineColor:this.color}},
macdLine:{styles:{color:this.color}}},this.options),this.macdZones={zones:this.options.macdLine.zones,startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length},this.resetZones=!0)},toYData:function(a){return[a.y,a.signal,a.MACD]},translate:function(){var a=this,g=["plotSignal","plotMACD"];e.seriesTypes.column.prototype.translate.apply(a);a.points.forEach(function(b){[b.signal,b.MACD].forEach(function(d,q){null!==d&&(b[g[q]]=
a.yAxis.toPixels(d,!0))})})},destroy:function(){this.graph=null;this.graphmacd=this.graphmacd&&this.graphmacd.destroy();this.graphsignal=this.graphsignal&&this.graphsignal.destroy();l.prototype.destroy.apply(this,arguments)},drawPoints:e.seriesTypes.column.prototype.drawPoints,drawGraph:function(){for(var a=this,g=a.points,b=g.length,d=a.options,c=a.zones,e={options:{gapSize:d.gapSize}},h=[[],[]],f;b--;)f=g[b],k(f.plotMACD)&&h[0].push({plotX:f.plotX,plotY:f.plotMACD,isNull:!k(f.plotMACD)}),k(f.plotSignal)&&
h[1].push({plotX:f.plotX,plotY:f.plotSignal,isNull:!k(f.plotMACD)});["macd","signal"].forEach(function(b,g){a.points=h[g];a.options=p(d[b+"Line"].styles,e);a.graph=a["graph"+b];a.currentLineZone=b+"Zones";a.zones=a[a.currentLineZone].zones;l.prototype.drawGraph.call(a);a["graph"+b]=a.graph});a.points=g;a.options=d;a.zones=c;a.currentLineZone=null},getZonesGraphs:function(a){var b=l.prototype.getZonesGraphs.call(this,a),c=b;this.currentLineZone&&(c=b.splice(this[this.currentLineZone].startIndex+1),
c.length?c.splice(0,0,a[0]):c=[a[0]]);return c},applyZones:function(){var a=this.zones;this.zones=this.signalZones.zones;l.prototype.applyZones.call(this);this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide();this.zones=a},getValues:function(a,b){var c=0,d=[],e=[],g=[];if(!(a.xData.length<b.longPeriod+b.signalPeriod)){var h=n.prototype.getValues(a,{period:b.shortPeriod});var f=n.prototype.getValues(a,{period:b.longPeriod});h=h.values;f=f.values;for(a=1;a<=h.length;a++)k(f[a-1])&&
k(f[a-1][1])&&k(h[a+b.shortPeriod+1])&&k(h[a+b.shortPeriod+1][0])&&d.push([h[a+b.shortPeriod+1][0],0,null,h[a+b.shortPeriod+1][1]-f[a-1][1]]);for(a=0;a<d.length;a++)e.push(d[a][0]),g.push([0,null,d[a][3]]);b=n.prototype.getValues({xData:e,yData:g},{period:b.signalPeriod,index:2});b=b.values;for(a=0;a<d.length;a++)d[a][0]>=b[0][0]&&(d[a][2]=b[c][1],g[a]=[0,b[c][1],d[a][3]],null===d[a][3]?(d[a][1]=0,g[a][0]=0):(d[a][1]=m(d[a][3]-b[c][1]),g[a][0]=m(d[a][3]-b[c][1])),c++);return{values:d,xData:e,yData:g}}}});
""});c(b,"masters/indicators/macd.src.js",[],function(){})});
//# sourceMappingURL=macd.js.map